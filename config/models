-- By default this file is used by `persistFileWith` in Model.hs (which is imported by Foundation.hs)
-- Syntax for this file here: https://github.com/yesodweb/persistent/blob/master/docs/Persistent-entity-syntax.md

User json
    ident Text
    password Text Maybe
    factionId FactionId Maybe
    UniqueUser ident
    deriving Typeable

UserRole json
    userId UserId
    role Role
    deriving Show Eq

Email json
    email Text
    userId UserId Maybe
    verkey Text Maybe
    UniqueEmail email

Faction json
    name Text
    homeSystem StarSystemId
    biologicals Int
    mechanicals Int
    chemicals Int
    deriving Show Eq

StarSystem json
    name Text
    coordX Int
    coordY Int
    deriving Show
    
Star json 
    name Text
    starSystemId StarSystemId
    spectralType SpectralType
    luminosityClass LuminosityClass
    deriving Show

Planet json
    name Text
    position Int
    starSystemId StarSystemId
    ownerId FactionId Maybe
    gravity Double
    SystemPosition starSystemId position
    deriving Show

Race json
    name Text
    deriving Show

PlanetPopulation json
    planetId PlanetId
    raceId RaceId
    population Int
    deriving Show

StarLane json
    starSystem1 StarSystemId
    starSystem2 StarSystemId
    deriving Show

Building json
    planetId PlanetId
    type BuildingType
    level Int
    construction Double
    damage Double
    deriving Show

Time json
    currentTime Int

Ship json
    name Text
    type ShipType
    starSystemId StarSystemId
    planetId PlanetId Maybe
    landed Bool
    ownerId FactionId
    deriving Show

Design json
    name Text
    ownerId FactionId
    chassisId ChassisId
    deriving Show

PlannedComponent json
    designId DesignId
    componentId ComponentId
    level Int
    amount Int
    deriving Show Read Eq

Chassis json
    name Text
    tonnage Int
    deriving Show Read Eq 

RequiredComponent json
    chassisId ChassisId
    componentType ComponentType
    level Int
    deriving Show Read Eq

InstalledComponent json
    shipId ShipId
    componentId ComponentId
    level Int
    damage Double
    deriving Show Read Eq

News json
    content Text
    factionId FactionId
    date Int
    dismissed Bool
    deriving Show Read Eq

StarSystemReport json
    starSystemId StarSystemId 
    name Text Maybe
    coordX Double 
    coordY Double
    factionId FactionId
    date Int 
    deriving Show

StarReport json
    starId StarId 
    starSystemId StarSystemId
    name Text Maybe
    spectralType SpectralType Maybe
    luminosityClass LuminosityClass Maybe
    factionId FactionId
    date Int 
    deriving Show    

PlanetReport json
    planetId PlanetId 
    ownerId  FactionId Maybe
    starSystemId StarSystemId
    name Text Maybe
    position Int Maybe
    gravity Double Maybe
    factionId FactionId
    date Int 
    deriving Show

StarLaneReport json
    starLaneId StarLaneId
    starSystem1 StarSystemId 
    starSystem2 StarSystemId 
    starSystemName1 Text Maybe
    starSystemName2 Text Maybe
    factionId FactionId
    date Int
    deriving Show

BuildingReport json
    buildingId BuildingId
    planetId PlanetId
    type BuildingType Maybe
    level Int Maybe
    construction Double Maybe
    damage Double Maybe
    factionId FactionId
    date Int
    deriving Show

PlanetPopulationReport json
    planetId PlanetId
    raceId RaceId Maybe
    population Int Maybe
    factionId FactionId
    date Int
    deriving Show
